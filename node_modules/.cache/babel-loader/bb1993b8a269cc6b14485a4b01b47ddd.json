{"remainingRequest":"D:\\xm\\vueblog\\vueblog-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\xm\\vueblog\\vueblog-vue\\src\\axios.js","dependencies":[{"path":"D:\\xm\\vueblog\\vueblog-vue\\src\\axios.js","mtime":1609156415091},{"path":"D:\\xm\\vueblog\\vueblog-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xm\\vueblog\\vueblog-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBFbGVtZW50IGZyb20gJ2VsZW1lbnQtdWknOwppbXBvcnQgcm91dGVyIGZyb20gJy4vcm91dGVyJzsKaW1wb3J0IHN0b3JlIGZyb20gJy4vc3RvcmUnOwpheGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gImh0dHA6Ly8xMjcuMC4wLjE6ODA4MSI7IC8vIGh0dHA6Ly8xODIuOTIuMTI2LjIwNjo4MDgxCi8vIOWJjee9ruaLpuaIqgoKYXhpb3MuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICByZXR1cm4gY29uZmlnOwp9KTsKYXhpb3MuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICB2YXIgcmVzID0gcmVzcG9uc2UuZGF0YTsKICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT0iKTsKICBjb25zb2xlLmxvZyhyZXMpOwogIGNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PSIpOwogIHJldHVybiByZXNwb25zZTsgLy8gaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAvLyAgIHJldHVybiByZXNwb25zZQogIC8vIH0gZWxzZSB7CiAgLy8gICBFbGVtZW50Lk1lc3NhZ2UuZXJyb3IocmVzLm1zZywge2R1cmF0aW9uOiAzICogMTAwMH0pCiAgLy8gICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVzcG9uc2UubXNnKQogIC8vIH0KfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgY29uc29sZS5sb2coZXJyb3IpOwoKICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgZXJyb3IubWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlLmRhdGEubXNnOwogIH0KCiAgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7CiAgICBzdG9yZS5jb21taXQoIlJFTU9WRV9JTkZPIik7CiAgICByb3V0ZXIucHVzaCgiL2xvZ2luIik7CiAgfQoKICBFbGVtZW50Lk1lc3NhZ2UuZXJyb3IoZXJyb3IubWVzc2FnZSwgewogICAgZHVyYXRpb246IDMgKiAxMDAwCiAgfSk7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7"},{"version":3,"sources":["D:/xm/vueblog/vueblog-vue/src/axios.js"],"names":["axios","Element","router","store","defaults","baseURL","interceptors","request","use","config","response","res","data","console","log","error","message","msg","status","commit","push","Message","duration","Promise","reject"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAGAH,KAAK,CAACI,QAAN,CAAeC,OAAf,GAAyB,uBAAzB,C,CACA;AACA;;AACAL,KAAK,CAACM,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAAAC,MAAM,EAAI;AACvC,SAAOA,MAAP;AACD,CAFD;AAIAT,KAAK,CAACM,YAAN,CAAmBI,QAAnB,CAA4BF,GAA5B,CAAgC,UAAAE,QAAQ,EAAI;AACxC,MAAIC,GAAG,GAAGD,QAAQ,CAACE,IAAnB;AAEAC,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACA,SAAOJ,QAAP,CANwC,CAOxC;AACA;AACA;AACA;AACA;AACA;AACD,CAbH,EAcE,UAAAK,KAAK,EAAI;AACPF,EAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;;AACA,MAAGA,KAAK,CAACL,QAAN,CAAeE,IAAlB,EAAwB;AACtBG,IAAAA,KAAK,CAACC,OAAN,GAAgBD,KAAK,CAACL,QAAN,CAAeE,IAAf,CAAoBK,GAApC;AACD;;AAED,MAAGF,KAAK,CAACL,QAAN,CAAeQ,MAAf,KAA0B,GAA7B,EAAkC;AAChCf,IAAAA,KAAK,CAACgB,MAAN,CAAa,aAAb;AACAjB,IAAAA,MAAM,CAACkB,IAAP,CAAY,QAAZ;AACD;;AAEDnB,EAAAA,OAAO,CAACoB,OAAR,CAAgBN,KAAhB,CAAsBA,KAAK,CAACC,OAA5B,EAAqC;AAACM,IAAAA,QAAQ,EAAE,IAAI;AAAf,GAArC;AACA,SAAOC,OAAO,CAACC,MAAR,CAAeT,KAAf,CAAP;AACD,CA3BH","sourcesContent":["import axios from 'axios'\r\nimport Element from 'element-ui'\r\nimport router from './router'\r\nimport store from './store'\r\n\r\n\r\naxios.defaults.baseURL = \"http://127.0.0.1:8081\"\r\n// http://182.92.126.206:8081\r\n// 前置拦截\r\naxios.interceptors.request.use(config => {\r\n  return config\r\n})\r\n\r\naxios.interceptors.response.use(response => {\r\n    let res = response.data;\r\n\r\n    console.log(\"=================\")\r\n    console.log(res)\r\n    console.log(\"=================\")\r\n    return response\r\n    // if (res.code === 200) {\r\n    //   return response\r\n    // } else {\r\n    //   Element.Message.error(res.msg, {duration: 3 * 1000})\r\n    //   return Promise.reject(response.msg)\r\n    // }\r\n  },\r\n  error => {\r\n    console.log(error)\r\n    if(error.response.data) {\r\n      error.message = error.response.data.msg\r\n    }\r\n\r\n    if(error.response.status === 401) {\r\n      store.commit(\"REMOVE_INFO\")\r\n      router.push(\"/login\")\r\n    }\r\n\r\n    Element.Message.error(error.message, {duration: 3 * 1000})\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n"]}]}